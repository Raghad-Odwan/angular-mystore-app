{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CartComponent = class CartComponent {\n  constructor(cartService, router) {\n    this.cartService = cartService;\n    this.router = router;\n    this.cartItems = [];\n    this.totalPrice = 0;\n    this.fullName = '';\n    this.address = '';\n    this.creditCard = '';\n  }\n  ngOnInit() {\n    this.loadCart();\n  }\n  loadCart() {\n    this.cartService.cart$.subscribe(items => {\n      this.cartItems = items;\n      this.totalPrice = this.cartService.getTotalPrice();\n    });\n  }\n  updateQuantity(productId, quantity) {\n    if (quantity > 0) {\n      this.cartService.updateQuantity(productId, quantity);\n    }\n  }\n  removeItem(productId) {\n    if (confirm('Are you sure you want to remove this item?')) {\n      this.cartService.removeFromCart(productId);\n    }\n  }\n  onSubmit() {\n    if (!this.fullName || this.fullName.length < 3) {\n      alert('Please enter a valid full name (at least 3 characters)');\n      return;\n    }\n    if (!this.address) {\n      alert('Please enter your address');\n      return;\n    }\n    if (!this.creditCard || this.creditCard.length < 16) {\n      alert('Please enter a valid credit card number (at least 16 digits)');\n      return;\n    }\n    if (this.cartItems.length === 0) {\n      alert('Your cart is empty!');\n      return;\n    }\n    this.router.navigate(['/confirmation'], {\n      state: {\n        fullName: this.fullName,\n        totalPrice: this.totalPrice\n      }\n    });\n    this.cartService.clearCart();\n  }\n};\nCartComponent = __decorate([Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})], CartComponent);\nexport { CartComponent };","map":{"version":3,"names":["Component","CartComponent","constructor","cartService","router","cartItems","totalPrice","fullName","address","creditCard","ngOnInit","loadCart","cart$","subscribe","items","getTotalPrice","updateQuantity","productId","quantity","removeItem","confirm","removeFromCart","onSubmit","length","alert","navigate","state","clearCart","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\C5\\Full stack\\My_store\\src\\app\\components\\cart\\cart.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CartItem } from '../../models/cartItem';\r\nimport { CartService } from '../../services/cart.service';\r\n\r\n@Component({\r\n  selector: 'app-cart',\r\n  templateUrl: './cart.component.html',\r\n  styleUrls: ['./cart.component.css']\r\n})\r\nexport class CartComponent implements OnInit {\r\n  cartItems: CartItem[] = [];\r\n  totalPrice: number = 0;\r\n  \r\n  fullName: string = '';\r\n  address: string = '';\r\n  creditCard: string = '';\r\n\r\n  constructor(\r\n    private cartService: CartService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.loadCart();\r\n  }\r\n\r\n  loadCart(): void {\r\n    this.cartService.cart$.subscribe(items => {\r\n      this.cartItems = items;\r\n      this.totalPrice = this.cartService.getTotalPrice();\r\n    });\r\n  }\r\n\r\n  updateQuantity(productId: number, quantity: number): void {\r\n    if (quantity > 0) {\r\n      this.cartService.updateQuantity(productId, quantity);\r\n    }\r\n  }\r\n\r\n  removeItem(productId: number): void {\r\n    if (confirm('Are you sure you want to remove this item?')) {\r\n      this.cartService.removeFromCart(productId);\r\n    }\r\n  }\r\n\r\n  onSubmit(): void {\r\n    if (!this.fullName || this.fullName.length < 3) {\r\n      alert('Please enter a valid full name (at least 3 characters)');\r\n      return;\r\n    }\r\n\r\n    if (!this.address) {\r\n      alert('Please enter your address');\r\n      return;\r\n    }\r\n\r\n    if (!this.creditCard || this.creditCard.length < 16) {\r\n      alert('Please enter a valid credit card number (at least 16 digits)');\r\n      return;\r\n    }\r\n\r\n    if (this.cartItems.length === 0) {\r\n      alert('Your cart is empty!');\r\n      return;\r\n    }\r\n\r\n    this.router.navigate(['/confirmation'], {\r\n      state: {\r\n        fullName: this.fullName,\r\n        totalPrice: this.totalPrice\r\n      }\r\n    });\r\n\r\n    this.cartService.clearCart();\r\n  }\r\n}"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAU1C,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAQxBC,YACUC,WAAwB,EACxBC,MAAc;IADd,KAAAD,WAAW,GAAXA,WAAW;IACX,KAAAC,MAAM,GAANA,MAAM;IAThB,KAAAC,SAAS,GAAe,EAAE;IAC1B,KAAAC,UAAU,GAAW,CAAC;IAEtB,KAAAC,QAAQ,GAAW,EAAE;IACrB,KAAAC,OAAO,GAAW,EAAE;IACpB,KAAAC,UAAU,GAAW,EAAE;EAKnB;EAEJC,QAAQA,CAAA;IACN,IAAI,CAACC,QAAQ,EAAE;EACjB;EAEAA,QAAQA,CAAA;IACN,IAAI,CAACR,WAAW,CAACS,KAAK,CAACC,SAAS,CAACC,KAAK,IAAG;MACvC,IAAI,CAACT,SAAS,GAAGS,KAAK;MACtB,IAAI,CAACR,UAAU,GAAG,IAAI,CAACH,WAAW,CAACY,aAAa,EAAE;IACpD,CAAC,CAAC;EACJ;EAEAC,cAAcA,CAACC,SAAiB,EAAEC,QAAgB;IAChD,IAAIA,QAAQ,GAAG,CAAC,EAAE;MAChB,IAAI,CAACf,WAAW,CAACa,cAAc,CAACC,SAAS,EAAEC,QAAQ,CAAC;IACtD;EACF;EAEAC,UAAUA,CAACF,SAAiB;IAC1B,IAAIG,OAAO,CAAC,4CAA4C,CAAC,EAAE;MACzD,IAAI,CAACjB,WAAW,CAACkB,cAAc,CAACJ,SAAS,CAAC;IAC5C;EACF;EAEAK,QAAQA,CAAA;IACN,IAAI,CAAC,IAAI,CAACf,QAAQ,IAAI,IAAI,CAACA,QAAQ,CAACgB,MAAM,GAAG,CAAC,EAAE;MAC9CC,KAAK,CAAC,wDAAwD,CAAC;MAC/D;IACF;IAEA,IAAI,CAAC,IAAI,CAAChB,OAAO,EAAE;MACjBgB,KAAK,CAAC,2BAA2B,CAAC;MAClC;IACF;IAEA,IAAI,CAAC,IAAI,CAACf,UAAU,IAAI,IAAI,CAACA,UAAU,CAACc,MAAM,GAAG,EAAE,EAAE;MACnDC,KAAK,CAAC,8DAA8D,CAAC;MACrE;IACF;IAEA,IAAI,IAAI,CAACnB,SAAS,CAACkB,MAAM,KAAK,CAAC,EAAE;MAC/BC,KAAK,CAAC,qBAAqB,CAAC;MAC5B;IACF;IAEA,IAAI,CAACpB,MAAM,CAACqB,QAAQ,CAAC,CAAC,eAAe,CAAC,EAAE;MACtCC,KAAK,EAAE;QACLnB,QAAQ,EAAE,IAAI,CAACA,QAAQ;QACvBD,UAAU,EAAE,IAAI,CAACA;;KAEpB,CAAC;IAEF,IAAI,CAACH,WAAW,CAACwB,SAAS,EAAE;EAC9B;CACD;AAlEY1B,aAAa,GAAA2B,UAAA,EALzB5B,SAAS,CAAC;EACT6B,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,C,EACW9B,aAAa,CAkEzB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}