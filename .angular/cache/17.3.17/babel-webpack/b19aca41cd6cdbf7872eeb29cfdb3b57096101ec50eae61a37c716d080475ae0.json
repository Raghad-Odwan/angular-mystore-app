{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CartComponent = class CartComponent {\n  constructor(cartService, router) {\n    this.cartService = cartService;\n    this.router = router;\n    this.cartItems = [];\n    this.totalPrice = 0;\n    this.fullName = '';\n    this.address = '';\n    this.creditCard = '';\n  }\n  ngOnInit() {\n    this.loadCart();\n  }\n  loadCart() {\n    this.cartService.cart$.subscribe(items => {\n      this.cartItems = items;\n      this.totalPrice = this.cartService.getTotalPrice();\n    });\n  }\n  updateQuantity(productId, quantity) {\n    if (quantity > 0) {\n      this.cartService.updateQuantity(productId, quantity);\n    }\n  }\n  removeItem(productId) {\n    if (confirm('Are you sure you want to remove this item?')) {\n      this.cartService.removeFromCart(productId);\n    }\n  }\n  onSubmit() {\n    // Validate full name\n    if (!this.fullName || this.fullName.trim().length < 3) {\n      alert('⚠️ Please enter a valid full name (at least 3 characters)');\n      return;\n    }\n    // Validate address\n    if (!this.address || this.address.trim().length === 0) {\n      alert('⚠️ Please enter your address');\n      return;\n    }\n    // Validate credit card - NUMBERS ONLY (16 digits)\n    const creditCardRegex = /^\\d{16}$/;\n    if (!this.creditCard || !creditCardRegex.test(this.creditCard)) {\n      alert('⚠️ Please enter a valid 16-digit credit card number (numbers only)');\n      return;\n    }\n    // Check if cart is empty\n    if (this.cartItems.length === 0) {\n      alert('⚠️ Your cart is empty!');\n      return;\n    }\n    // Navigate to confirmation page\n    this.router.navigate(['/confirmation'], {\n      state: {\n        fullName: this.fullName,\n        totalPrice: this.totalPrice\n      }\n    });\n    // Clear cart and form\n    this.cartService.clearCart();\n    this.fullName = '';\n    this.address = '';\n    this.creditCard = '';\n  }\n};\nCartComponent = __decorate([Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})], CartComponent);\nexport { CartComponent };","map":{"version":3,"names":["Component","CartComponent","constructor","cartService","router","cartItems","totalPrice","fullName","address","creditCard","ngOnInit","loadCart","cart$","subscribe","items","getTotalPrice","updateQuantity","productId","quantity","removeItem","confirm","removeFromCart","onSubmit","trim","length","alert","creditCardRegex","test","navigate","state","clearCart","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\C5\\Full stack\\My_store\\src\\app\\components\\cart\\cart.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CartItem } from '../../models/cartItem';\r\nimport { CartService } from '../../services/cart.service';\r\n\r\n@Component({\r\n  selector: 'app-cart',\r\n  templateUrl: './cart.component.html',\r\n  styleUrls: ['./cart.component.css']\r\n})\r\nexport class CartComponent implements OnInit {\r\n  cartItems: CartItem[] = [];\r\n  totalPrice: number = 0;\r\n  \r\n  fullName: string = '';\r\n  address: string = '';\r\n  creditCard: string = '';\r\n\r\n  constructor(\r\n    private cartService: CartService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.loadCart();\r\n  }\r\n\r\n  loadCart(): void {\r\n    this.cartService.cart$.subscribe(items => {\r\n      this.cartItems = items;\r\n      this.totalPrice = this.cartService.getTotalPrice();\r\n    });\r\n  }\r\n\r\n  updateQuantity(productId: number, quantity: number): void {\r\n    if (quantity > 0) {\r\n      this.cartService.updateQuantity(productId, quantity);\r\n    }\r\n  }\r\n\r\n  removeItem(productId: number): void {\r\n    if (confirm('Are you sure you want to remove this item?')) {\r\n      this.cartService.removeFromCart(productId);\r\n    }\r\n  }\r\n\r\nonSubmit(): void {\r\n  // Validate full name\r\n  if (!this.fullName || this.fullName.trim().length < 3) {\r\n    alert('⚠️ Please enter a valid full name (at least 3 characters)');\r\n    return;\r\n  }\r\n\r\n  // Validate address\r\n  if (!this.address || this.address.trim().length === 0) {\r\n    alert('⚠️ Please enter your address');\r\n    return;\r\n  }\r\n\r\n  // Validate credit card - NUMBERS ONLY (16 digits)\r\n  const creditCardRegex = /^\\d{16}$/;\r\n  if (!this.creditCard || !creditCardRegex.test(this.creditCard)) {\r\n    alert('⚠️ Please enter a valid 16-digit credit card number (numbers only)');\r\n    return;\r\n  }\r\n\r\n  // Check if cart is empty\r\n  if (this.cartItems.length === 0) {\r\n    alert('⚠️ Your cart is empty!');\r\n    return;\r\n  }\r\n\r\n  // Navigate to confirmation page\r\n  this.router.navigate(['/confirmation'], {\r\n    state: {\r\n      fullName: this.fullName,\r\n      totalPrice: this.totalPrice\r\n    }\r\n  });\r\n\r\n  // Clear cart and form\r\n  this.cartService.clearCart();\r\n  this.fullName = '';\r\n  this.address = '';\r\n  this.creditCard = '';\r\n}\r\n}"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAU1C,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAQxBC,YACUC,WAAwB,EACxBC,MAAc;IADd,KAAAD,WAAW,GAAXA,WAAW;IACX,KAAAC,MAAM,GAANA,MAAM;IAThB,KAAAC,SAAS,GAAe,EAAE;IAC1B,KAAAC,UAAU,GAAW,CAAC;IAEtB,KAAAC,QAAQ,GAAW,EAAE;IACrB,KAAAC,OAAO,GAAW,EAAE;IACpB,KAAAC,UAAU,GAAW,EAAE;EAKnB;EAEJC,QAAQA,CAAA;IACN,IAAI,CAACC,QAAQ,EAAE;EACjB;EAEAA,QAAQA,CAAA;IACN,IAAI,CAACR,WAAW,CAACS,KAAK,CAACC,SAAS,CAACC,KAAK,IAAG;MACvC,IAAI,CAACT,SAAS,GAAGS,KAAK;MACtB,IAAI,CAACR,UAAU,GAAG,IAAI,CAACH,WAAW,CAACY,aAAa,EAAE;IACpD,CAAC,CAAC;EACJ;EAEAC,cAAcA,CAACC,SAAiB,EAAEC,QAAgB;IAChD,IAAIA,QAAQ,GAAG,CAAC,EAAE;MAChB,IAAI,CAACf,WAAW,CAACa,cAAc,CAACC,SAAS,EAAEC,QAAQ,CAAC;IACtD;EACF;EAEAC,UAAUA,CAACF,SAAiB;IAC1B,IAAIG,OAAO,CAAC,4CAA4C,CAAC,EAAE;MACzD,IAAI,CAACjB,WAAW,CAACkB,cAAc,CAACJ,SAAS,CAAC;IAC5C;EACF;EAEFK,QAAQA,CAAA;IACN;IACA,IAAI,CAAC,IAAI,CAACf,QAAQ,IAAI,IAAI,CAACA,QAAQ,CAACgB,IAAI,EAAE,CAACC,MAAM,GAAG,CAAC,EAAE;MACrDC,KAAK,CAAC,2DAA2D,CAAC;MAClE;IACF;IAEA;IACA,IAAI,CAAC,IAAI,CAACjB,OAAO,IAAI,IAAI,CAACA,OAAO,CAACe,IAAI,EAAE,CAACC,MAAM,KAAK,CAAC,EAAE;MACrDC,KAAK,CAAC,8BAA8B,CAAC;MACrC;IACF;IAEA;IACA,MAAMC,eAAe,GAAG,UAAU;IAClC,IAAI,CAAC,IAAI,CAACjB,UAAU,IAAI,CAACiB,eAAe,CAACC,IAAI,CAAC,IAAI,CAAClB,UAAU,CAAC,EAAE;MAC9DgB,KAAK,CAAC,oEAAoE,CAAC;MAC3E;IACF;IAEA;IACA,IAAI,IAAI,CAACpB,SAAS,CAACmB,MAAM,KAAK,CAAC,EAAE;MAC/BC,KAAK,CAAC,wBAAwB,CAAC;MAC/B;IACF;IAEA;IACA,IAAI,CAACrB,MAAM,CAACwB,QAAQ,CAAC,CAAC,eAAe,CAAC,EAAE;MACtCC,KAAK,EAAE;QACLtB,QAAQ,EAAE,IAAI,CAACA,QAAQ;QACvBD,UAAU,EAAE,IAAI,CAACA;;KAEpB,CAAC;IAEF;IACA,IAAI,CAACH,WAAW,CAAC2B,SAAS,EAAE;IAC5B,IAAI,CAACvB,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACC,OAAO,GAAG,EAAE;IACjB,IAAI,CAACC,UAAU,GAAG,EAAE;EACtB;CACC;AA5EYR,aAAa,GAAA8B,UAAA,EALzB/B,SAAS,CAAC;EACTgC,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,C,EACWjC,aAAa,CA4EzB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}