{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/cart.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction CartComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"p\");\n    i0.ɵɵtext(2, \"Your cart is empty.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 4);\n    i0.ɵɵtext(4, \"Continue Shopping\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CartComponent_div_4_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵelement(1, \"img\", 20);\n    i0.ɵɵelementStart(2, \"div\", 21)(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 22);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 23)(9, \"label\");\n    i0.ɵɵtext(10, \"Quantity:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 24);\n    i0.ɵɵlistener(\"change\", function CartComponent_div_4_div_2_Template_input_change_11_listener($event) {\n      const item_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.updateQuantity(item_r3.product.id, $event.target.value));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 25)(13, \"p\");\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function CartComponent_div_4_div_2_Template_button_click_16_listener() {\n      const item_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.removeItem(item_r3.product.id));\n    });\n    i0.ɵɵtext(17, \"Remove\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", item_r3.product.url, i0.ɵɵsanitizeUrl)(\"alt\", item_r3.product.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r3.product.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(7, 6, item_r3.product.price, \"USD\", \"symbol\", \"1.2-2\"));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"value\", item_r3.quantity);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(15, 11, item_r3.getTotalPrice(), \"USD\", \"symbol\", \"1.2-2\"));\n  }\n}\nfunction CartComponent_div_4_small_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 27);\n    i0.ɵɵtext(1, \" \\u26A0\\uFE0F Credit card must be exactly 16 digits\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CartComponent_div_4_small_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 27);\n    i0.ɵɵtext(1, \" \\u26A0\\uFE0F Only numbers are allowed\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CartComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 5);\n    i0.ɵɵtemplate(2, CartComponent_div_4_div_2_Template, 18, 16, \"div\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 7)(4, \"h3\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 8)(8, \"h3\");\n    i0.ɵɵtext(9, \"Checkout Information\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"form\", 9);\n    i0.ɵɵlistener(\"ngSubmit\", function CartComponent_div_4_Template_form_ngSubmit_10_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onSubmit());\n    });\n    i0.ɵɵelementStart(11, \"div\", 10)(12, \"label\", 11);\n    i0.ɵɵtext(13, \"Full Name (minimum 3 characters):\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"input\", 12);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function CartComponent_div_4_Template_input_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r3 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r3.fullName, $event) || (ctx_r3.fullName = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 10)(16, \"label\", 13);\n    i0.ɵɵtext(17, \"Address:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"input\", 14);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function CartComponent_div_4_Template_input_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r3 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r3.address, $event) || (ctx_r3.address = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 10)(20, \"label\", 15);\n    i0.ɵɵtext(21, \"Credit Card Number (16 digits - numbers only):\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"input\", 16);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function CartComponent_div_4_Template_input_ngModelChange_22_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r3 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r3.creditCard, $event) || (ctx_r3.creditCard = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(23, CartComponent_div_4_small_23_Template, 2, 0, \"small\", 17)(24, CartComponent_div_4_small_24_Template, 2, 0, \"small\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"button\", 18);\n    i0.ɵɵtext(26, \"Complete Purchase\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.cartItems);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Order Total: \", i0.ɵɵpipeBind4(6, 7, ctx_r3.totalPrice, \"USD\", \"symbol\", \"1.2-2\"), \"\");\n    i0.ɵɵadvance(9);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.fullName);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.address);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.creditCard);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.creditCard && ctx_r3.creditCard.length > 0 && ctx_r3.creditCard.length < 16);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.creditCard && !ctx_r3.isNumeric(ctx_r3.creditCard));\n  }\n}\nexport class CartComponent {\n  constructor(cartService, router) {\n    this.cartService = cartService;\n    this.router = router;\n    this.cartItems = [];\n    this.totalPrice = 0;\n    this.fullName = '';\n    this.address = '';\n    this.creditCard = '';\n  }\n  ngOnInit() {\n    this.loadCart();\n  }\n  loadCart() {\n    this.cartService.cart$.subscribe(items => {\n      this.cartItems = items;\n      this.totalPrice = this.cartService.getTotalPrice();\n    });\n  }\n  updateQuantity(productId, quantity) {\n    if (quantity > 0) {\n      this.cartService.updateQuantity(productId, quantity);\n    }\n  }\n  removeItem(productId) {\n    if (confirm('Are you sure you want to remove this item?')) {\n      this.cartService.removeFromCart(productId);\n    }\n  }\n  onSubmit() {\n    // Validate full name\n    if (!this.fullName || this.fullName.trim().length < 3) {\n      alert('Please enter a valid full name (at least 3 characters)');\n      return;\n    }\n    // Validate address\n    if (!this.address || this.address.trim().length === 0) {\n      alert('Please enter your address');\n      return;\n    }\n    // Validate credit card - NUMBERS ONLY (16 digits)\n    const creditCardRegex = /^\\d{16}$/;\n    if (!this.creditCard || !creditCardRegex.test(this.creditCard)) {\n      alert('Please enter a valid 16-digit credit card number (numbers only)');\n      return;\n    }\n    // Check if cart is empty\n    if (this.cartItems.length === 0) {\n      alert('Your cart is empty!');\n      return;\n    }\n    // Navigate to confirmation page\n    this.router.navigate(['/confirmation'], {\n      state: {\n        fullName: this.fullName,\n        totalPrice: this.totalPrice\n      }\n    });\n    // Clear cart and form\n    this.cartService.clearCart();\n    this.fullName = '';\n    this.address = '';\n    this.creditCard = '';\n  }\n  static {\n    this.ɵfac = function CartComponent_Factory(t) {\n      return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.CartService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CartComponent,\n      selectors: [[\"app-cart\"]],\n      decls: 5,\n      vars: 2,\n      consts: [[1, \"container\"], [\"class\", \"empty-cart\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"empty-cart\"], [\"routerLink\", \"/\", 1, \"btn-primary\"], [1, \"cart-items\"], [\"class\", \"cart-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"cart-summary\"], [1, \"checkout-form\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"fullName\"], [\"type\", \"text\", \"id\", \"fullName\", \"name\", \"fullName\", \"required\", \"\", \"minlength\", \"3\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"address\"], [\"type\", \"text\", \"id\", \"address\", \"name\", \"address\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"creditCard\"], [\"type\", \"text\", \"id\", \"creditCard\", \"name\", \"creditCard\", \"required\", \"\", \"minlength\", \"16\", \"maxlength\", \"16\", \"pattern\", \"[0-9]{16}\", \"placeholder\", \"Enter 16 digits only\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"btn-submit\"], [1, \"cart-item\"], [1, \"cart-item-image\", 3, \"src\", \"alt\"], [1, \"cart-item-details\"], [1, \"item-price\"], [1, \"cart-item-quantity\"], [\"type\", \"number\", \"min\", \"1\", \"max\", \"99\", 1, \"quantity-input\", 3, \"change\", \"value\"], [1, \"cart-item-total\"], [1, \"btn-remove\", 3, \"click\"], [1, \"error-message\"]],\n      template: function CartComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"Shopping Cart\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, CartComponent_div_3_Template, 5, 0, \"div\", 1)(4, CartComponent_div_4_Template, 27, 12, \"div\", 2);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.cartItems.length === 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.cartItems.length > 0);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i2.RouterLink, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MinLengthValidator, i4.MaxLengthValidator, i4.PatternValidator, i4.NgModel, i4.NgForm, i3.CurrencyPipe],\n      styles: [\"img[_ngcontent-%COMP%] {\\n  width: 100px;\\n  border-radius: 10px;\\n}\\n\\n.form-margin[_ngcontent-%COMP%] {\\n  margin-bottom: 12px;\\n}\\n\\n.cart-item[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  margin-bottom: 20px;\\n}\\n\\n.cart-item-details[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  flex-direction: column;\\n  align-items: left;\\n  margin-left: 80px;\\n}\\n\\n.number-input[_ngcontent-%COMP%] {\\n  width: 80px;\\n  text-align: center;\\n}\\n\\n.cart-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  margin-top: 64px;\\n}\\n\\n.cart-panel[_ngcontent-%COMP%] {\\n  margin-left: 50px;\\n  margin-right: 50px;\\n}\\n\\n.empty-cart-message[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  margin-top: 64px;\\n}\\n\\n.error-message[_ngcontent-%COMP%] {\\n  color: #e74c3c;\\n  display: block;\\n  margin-top: 5px;\\n  font-size: 0.85rem;\\n  font-weight: 500;\\n}\\n\\n.form-control.ng-invalid.ng-touched[_ngcontent-%COMP%] {\\n  border-color: #e74c3c;\\n  box-shadow: 0 0 5px rgba(231, 76, 60, 0.3);\\n}\\n\\n.form-control.ng-valid.ng-touched[_ngcontent-%COMP%] {\\n  border-color: #27ae60;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jYXJ0L2NhcnQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQVk7RUFDWixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsc0JBQXNCO0VBQ3RCLGlCQUFpQjtFQUNqQixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsY0FBYztFQUNkLGNBQWM7RUFDZCxlQUFlO0VBQ2Ysa0JBQWtCO0VBQ2xCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQiwwQ0FBMEM7QUFDNUM7O0FBRUE7RUFDRSxxQkFBcUI7QUFDdkIiLCJzb3VyY2VzQ29udGVudCI6WyJpbWcge1xuICB3aWR0aDogMTAwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG59XG5cbi5mb3JtLW1hcmdpbiB7XG4gIG1hcmdpbi1ib3R0b206IDEycHg7XG59XG5cbi5jYXJ0LWl0ZW0ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuXG4uY2FydC1pdGVtLWRldGFpbHMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IGxlZnQ7XG4gIG1hcmdpbi1sZWZ0OiA4MHB4O1xufVxuXG4ubnVtYmVyLWlucHV0IHtcbiAgd2lkdGg6IDgwcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmNhcnQtY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIG1hcmdpbi10b3A6IDY0cHg7XG59XG5cbi5jYXJ0LXBhbmVsIHtcbiAgbWFyZ2luLWxlZnQ6IDUwcHg7XG4gIG1hcmdpbi1yaWdodDogNTBweDtcbn1cblxuLmVtcHR5LWNhcnQtbWVzc2FnZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBtYXJnaW4tdG9wOiA2NHB4O1xufVxuXG4uZXJyb3ItbWVzc2FnZSB7XG4gIGNvbG9yOiAjZTc0YzNjO1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLXRvcDogNXB4O1xuICBmb250LXNpemU6IDAuODVyZW07XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG5cbi5mb3JtLWNvbnRyb2wubmctaW52YWxpZC5uZy10b3VjaGVkIHtcbiAgYm9yZGVyLWNvbG9yOiAjZTc0YzNjO1xuICBib3gtc2hhZG93OiAwIDAgNXB4IHJnYmEoMjMxLCA3NiwgNjAsIDAuMyk7XG59XG5cbi5mb3JtLWNvbnRyb2wubmctdmFsaWQubmctdG91Y2hlZCB7XG4gIGJvcmRlci1jb2xvcjogIzI3YWU2MDtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","CartComponent_div_4_div_2_Template_input_change_11_listener","$event","item_r3","ɵɵrestoreView","_r2","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","updateQuantity","product","id","target","value","CartComponent_div_4_div_2_Template_button_click_16_listener","removeItem","ɵɵadvance","ɵɵproperty","url","ɵɵsanitizeUrl","name","ɵɵtextInterpolate","ɵɵpipeBind4","price","quantity","getTotalPrice","ɵɵtemplate","CartComponent_div_4_div_2_Template","CartComponent_div_4_Template_form_ngSubmit_10_listener","_r1","onSubmit","ɵɵtwoWayListener","CartComponent_div_4_Template_input_ngModelChange_14_listener","ɵɵtwoWayBindingSet","fullName","CartComponent_div_4_Template_input_ngModelChange_18_listener","address","CartComponent_div_4_Template_input_ngModelChange_22_listener","creditCard","CartComponent_div_4_small_23_Template","CartComponent_div_4_small_24_Template","cartItems","ɵɵtextInterpolate1","totalPrice","ɵɵtwoWayProperty","length","isNumeric","CartComponent","constructor","cartService","router","ngOnInit","loadCart","cart$","subscribe","items","productId","confirm","removeFromCart","trim","alert","creditCardRegex","test","navigate","state","clearCart","ɵɵdirectiveInject","i1","CartService","i2","Router","selectors","decls","vars","consts","template","CartComponent_Template","rf","ctx","CartComponent_div_3_Template","CartComponent_div_4_Template"],"sources":["C:\\C5\\Full stack\\My_store\\src\\app\\components\\cart\\cart.component.ts","C:\\C5\\Full stack\\My_store\\src\\app\\components\\cart\\cart.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CartItem } from '../../models/cartItem';\r\nimport { CartService } from '../../services/cart.service';\r\n\r\n@Component({\r\n  selector: 'app-cart',\r\n  templateUrl: './cart.component.html',\r\n  styleUrls: ['./cart.component.css']\r\n})\r\nexport class CartComponent implements OnInit {\r\n  cartItems: CartItem[] = [];\r\n  totalPrice: number = 0;\r\n  \r\n  fullName: string = '';\r\n  address: string = '';\r\n  creditCard: string = '';\r\n\r\n  constructor(\r\n    private cartService: CartService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.loadCart();\r\n  }\r\n\r\n  loadCart(): void {\r\n    this.cartService.cart$.subscribe(items => {\r\n      this.cartItems = items;\r\n      this.totalPrice = this.cartService.getTotalPrice();\r\n    });\r\n  }\r\n\r\n  updateQuantity(productId: number, quantity: number): void {\r\n    if (quantity > 0) {\r\n      this.cartService.updateQuantity(productId, quantity);\r\n    }\r\n  }\r\n\r\n  removeItem(productId: number): void {\r\n    if (confirm('Are you sure you want to remove this item?')) {\r\n      this.cartService.removeFromCart(productId);\r\n    }\r\n  }\r\n\r\nonSubmit(): void {\r\n  // Validate full name\r\n  if (!this.fullName || this.fullName.trim().length < 3) {\r\n    alert('Please enter a valid full name (at least 3 characters)');\r\n    return;\r\n  }\r\n\r\n  // Validate address\r\n  if (!this.address || this.address.trim().length === 0) {\r\n    alert('Please enter your address');\r\n    return;\r\n  }\r\n\r\n  // Validate credit card - NUMBERS ONLY (16 digits)\r\n  const creditCardRegex = /^\\d{16}$/;\r\n  if (!this.creditCard || !creditCardRegex.test(this.creditCard)) {\r\n    alert('Please enter a valid 16-digit credit card number (numbers only)');\r\n    return;\r\n  }\r\n\r\n  // Check if cart is empty\r\n  if (this.cartItems.length === 0) {\r\n    alert('Your cart is empty!');\r\n    return;\r\n  }\r\n\r\n  // Navigate to confirmation page\r\n  this.router.navigate(['/confirmation'], {\r\n    state: {\r\n      fullName: this.fullName,\r\n      totalPrice: this.totalPrice\r\n    }\r\n  });\r\n\r\n  // Clear cart and form\r\n  this.cartService.clearCart();\r\n  this.fullName = '';\r\n  this.address = '';\r\n  this.creditCard = '';\r\n}\r\n}","<div class=\"container\">\r\n  <h2>Shopping Cart</h2>\r\n\r\n  <div *ngIf=\"cartItems.length === 0\" class=\"empty-cart\">\r\n    <p>Your cart is empty.</p>\r\n    <button routerLink=\"/\" class=\"btn-primary\">Continue Shopping</button>\r\n  </div>\r\n\r\n  <div *ngIf=\"cartItems.length > 0\">\r\n    <div class=\"cart-items\">\r\n      <div class=\"cart-item\" *ngFor=\"let item of cartItems\">\r\n        <img [src]=\"item.product.url\" [alt]=\"item.product.name\" class=\"cart-item-image\">\r\n        \r\n        <div class=\"cart-item-details\">\r\n          <h3>{{ item.product.name }}</h3>\r\n          <p class=\"item-price\">{{ item.product.price | currency:'USD':'symbol':'1.2-2' }}</p>\r\n        </div>\r\n\r\n        <div class=\"cart-item-quantity\">\r\n          <label>Quantity:</label>\r\n          <input \r\n            type=\"number\" \r\n            [value]=\"item.quantity\"\r\n            (change)=\"updateQuantity(item.product.id, $any($event.target).value)\"\r\n            min=\"1\"\r\n            max=\"99\"\r\n            class=\"quantity-input\">\r\n        </div>\r\n\r\n        <div class=\"cart-item-total\">\r\n          <p>{{ item.getTotalPrice() | currency:'USD':'symbol':'1.2-2' }}</p>\r\n        </div>\r\n\r\n        <button (click)=\"removeItem(item.product.id)\" class=\"btn-remove\">Remove</button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"cart-summary\">\r\n      <h3>Order Total: {{ totalPrice | currency:'USD':'symbol':'1.2-2' }}</h3>\r\n    </div>\r\n\r\n    <div class=\"checkout-form\">\r\n      <h3>Checkout Information</h3>\r\n      <form (ngSubmit)=\"onSubmit()\">\r\n        <div class=\"form-group\">\r\n          <label for=\"fullName\">Full Name (minimum 3 characters):</label>\r\n          <input \r\n            type=\"text\" \r\n            id=\"fullName\"\r\n            [(ngModel)]=\"fullName\"\r\n            name=\"fullName\"\r\n            required\r\n            minlength=\"3\"\r\n            class=\"form-control\">\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label for=\"address\">Address:</label>\r\n          <input \r\n            type=\"text\" \r\n            id=\"address\"\r\n            [(ngModel)]=\"address\"\r\n            name=\"address\"\r\n            required\r\n            class=\"form-control\">\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n        <label for=\"creditCard\">Credit Card Number (16 digits - numbers only):</label>\r\n        <input \r\n          type=\"text\" \r\n          id=\"creditCard\"\r\n          [(ngModel)]=\"creditCard\"\r\n          name=\"creditCard\"\r\n          required\r\n          minlength=\"16\"\r\n          maxlength=\"16\"\r\n          pattern=\"[0-9]{16}\"\r\n          class=\"form-control\"\r\n          placeholder=\"Enter 16 digits only\">\r\n        <small class=\"error-message\" *ngIf=\"creditCard && creditCard.length > 0 && creditCard.length < 16\">\r\n  ⚠️ Credit card must be exactly 16 digits\r\n</small>\r\n<small class=\"error-message\" *ngIf=\"creditCard && !isNumeric(creditCard)\">\r\n  ⚠️ Only numbers are allowed\r\n</small>\r\n      </div>\r\n\r\n        <button type=\"submit\" class=\"btn-submit\">Complete Purchase</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}